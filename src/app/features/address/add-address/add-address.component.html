<div class="address-form-container">
  <div class="form-header">
    <h2 class="form-title">Add New Address</h2>
    <button class="btn btn-back" (click)="goBack()">
      <i class="bi bi-arrow-left"></i> Back
    </button>
  </div>

  <form [formGroup]="addressForm" (ngSubmit)="onSubmit()" class="address-form">
    <div class="form-group">
      <label class="form-label">Street Address</label>
      <input type="text" formControlName="street" class="form-control" 
             [ngClass]="{ 'is-invalid': addressForm.get('street')?.touched && addressForm.get('street')?.invalid }" />
      <div *ngIf="addressForm.get('street')?.touched && addressForm.get('street')?.invalid" class="invalid-feedback">
        Street address is required
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">City</label>
      <input type="text" formControlName="city" class="form-control"
             [ngClass]="{ 'is-invalid': addressForm.get('city')?.touched && addressForm.get('city')?.invalid }" />
      <div *ngIf="addressForm.get('city')?.touched && addressForm.get('city')?.invalid" class="invalid-feedback">
        City is required
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label">State</label>
          <input type="text" formControlName="state" class="form-control"
                 [ngClass]="{ 'is-invalid': addressForm.get('state')?.touched && addressForm.get('state')?.invalid }" />
          <div *ngIf="addressForm.get('state')?.touched && addressForm.get('state')?.invalid" class="invalid-feedback">
            State is required
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label">Zip Code</label>
          <input type="text" formControlName="zipCode" class="form-control"
                 [ngClass]="{ 'is-invalid': addressForm.get('zipCode')?.touched && addressForm.get('zipCode')?.invalid }" />
          <div *ngIf="addressForm.get('zipCode')?.touched && addressForm.get('zipCode')?.invalid" class="invalid-feedback">
            Zip code is required
          </div>
        </div>
      </div>
    </div>

    <div class="form-footer">
      <button type="submit" class="btn btn-submit" [disabled]="loading || addressForm.invalid">
        <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        {{ loading ? 'Saving Address...' : 'Save Address' }}
      </button>
    </div>
  </form>

  <div *ngIf="successMessage" class="alert alert-success">
    <i class="bi bi-check-circle-fill"></i> {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger">
    <i class="bi bi-exclamation-triangle-fill"></i> {{ errorMessage }}
  </div>
</div>