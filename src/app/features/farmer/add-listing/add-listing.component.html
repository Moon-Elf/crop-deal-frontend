<div class="container p-4">
    <h3 class="mb-4">Add Crop Listing</h3>
  
    <form [formGroup]="listingForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
  
      <!-- Crop Type Dropdown -->
      <div class="mb-3">
        <label>Crop Type</label>
        <select class="form-select" formControlName="cropType">
          <option [value]="" disabled selected>Select Type</option>
          <option *ngFor="let type of cropTypes" [value]="type">{{ type }}</option>
        </select>
      </div>
  
      <!-- Crop Name Dropdown -->
      <div class="mb-3">
        <label>Crop Name</label>
        <select class="form-select" formControlName="cropId" [disabled]="!filteredCrops.length">
          <option [value]="" disabled selected>Select Crop</option>
          <option *ngFor="let crop of filteredCrops" [value]="crop.id">{{ crop.name }}</option>
        </select>
      </div>
  
      <!-- Price -->
      <div class="mb-3">
        <label>Price per Kg</label>
        <input type="number" class="form-control" formControlName="pricePerKg" />
      </div>
  
      <!-- Quantity -->
      <div class="mb-3">
        <label>Quantity (Kg)</label>
        <input type="number" class="form-control" formControlName="quantity" />
      </div>
  
      <!-- Description -->
      <div class="mb-3">
        <label>Description</label>
        <textarea class="form-control" formControlName="description" rows="3"></textarea>
      </div>
  
      <!-- Image Upload -->
      <div class="mb-3">
        <label>Image (optional)</label>
        <input type="file" class="form-control" (change)="onImageSelected($event)" />
      </div>
  
      <button type="submit" class="btn btn-success" [disabled]="listingForm.invalid">Add Listing</button>
    </form>
  </div>
  